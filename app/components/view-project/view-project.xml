<Page xmlns="http://www.nativescript.org/tns.xsd" navigatedTo="navigatedTo">
  <Page.optionsMenu>
    <MenuItem icon="ic_edit" tap="editProjectButtonTap" android.position="actionBar" />
    <MenuItem text="{{ strings.delete }}" tap="deleteProjectButtonTap" android.position="popup" />
  </Page.optionsMenu>
  <GridLayout rows="auto, *, auto">
    <Border cssClass="headerBorder">
      <Label text="{{ project.Name }}" cssClass="fabHeader" />
    </Border>

    <ListView items="{{ tasks }}" itemTap="listViewItemTap" row="1" cssClass="listView">
      <ListView.itemTemplate>
        <StackLayout orientation="horizontal" cssClass="listViewItem">
          <Image src="{{ task | getStatusImage }}" stretch="none" tap="completeTaskButtonTap" cssClass="listViewItemIcon"/>
          <Label text="{{ task.Name }}" cssClass="listViewItemLabel" textWrap="true" />
        </StackLayout>
      </ListView.itemTemplate>
    </ListView>

    <AbsoluteLayout row="1" cssClass="upperFabContainer" >
      <Image src="res://fab_add" tap="addTaskButtonTap" cssClass="fab" />
    </AbsoluteLayout>

    <ActivityIndicator rowSpan="3" busy="{{ isLoading }}" />
  </GridLayout>
</Page>