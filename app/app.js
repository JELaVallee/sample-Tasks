var applicationModule = require("application");
var viewsModule = require("./utils/views");
var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
applicationModule.resources = {
    formatDate: formatDate,
    formatTime: formatTime,
    formatReminder: function (task) {
        return "10 min before";
    },
    formatDueDate: function (dueDate) {
        return formatDate(dueDate) + ", " + formatTime(dueDate);
    },
    formatTasksCount: function (tasksCount) {
        if (tasksCount === undefined || isNaN(tasksCount)) {
            return " ";
        }
        if (tasksCount === 0 || tasksCount > 1) {
            return tasksCount + " tasks";
        }
        return "1 task";
    },
    formatDateForPicker: function (date) {
        if (date) {
            return formatDate(date);
        }
        return "Select date";
    },
    formatTimeForPicker: function (date) {
        if (date) {
            return formatTime(date);
        }
        return "Select time";
    },
    getProjectNameForProjectsPicker: function (project) {
        if (project) {
            return project.Name;
        }
        return "Select project";
    },
    getProjectName: function (project, projectId) {
        if (projectId) {
            if (project) {
                return project.Name;
            }
            else {
                return " ";
            }
        }
        return "Default";
    },
    getStatusImage: function (task) {
        return task.IsCompleted ? "res://ic_checkmark_checked" : "res://ic_checkmark";
    },
    getStatusFab: function (task) {
        return task.IsCompleted ? "res://fab_completed" : "res://fab_complete";
    }
};
function formatDate(date) {
    return date.getDate() + " " + months[date.getMonth()] + ", " + date.getFullYear();
}
function formatTime(date) {
    var minutes = date.getMinutes().toString();
    if (minutes.length === 1) {
        minutes = "0" + date.getMinutes();
    }
    return date.getHours() + ":" + minutes;
}
applicationModule.onLaunch = function (context) {
    var serviceModule = require("./utils/service");
    if (serviceModule.service.isAuthenticated) {
        applicationModule.mainModule = viewsModule.Views.main;
    }
    else {
        applicationModule.mainEntry = {
            moduleName: viewsModule.Views.login,
            backstackVisible: false
        };
    }
};
applicationModule.start();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbImZvcm1hdERhdGUiLCJmb3JtYXRUaW1lIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFPLGlCQUFpQixXQUFXLGFBQWEsQ0FBQyxDQUFDO0FBTWxELElBQU8sV0FBVyxXQUFXLGVBQWUsQ0FBQyxDQUFDO0FBRTlDLElBQUksTUFBTSxHQUFHLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUN4SSxpQkFBaUIsQ0FBQyxTQUFTLEdBQUc7SUFDMUIsVUFBVSxFQUFFLFVBQVU7SUFFdEIsVUFBVSxFQUFFLFVBQVU7SUFFdEIsY0FBYyxFQUFFLFVBQVUsSUFBUztRQUMvQixNQUFNLENBQUMsZUFBZSxDQUFDO0lBQzNCLENBQUM7SUFFRCxhQUFhLEVBQUUsVUFBVSxPQUFhO1FBQ2xDLE1BQU0sQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM1RCxDQUFDO0lBRUQsZ0JBQWdCLEVBQUUsVUFBVSxVQUFrQjtRQUMxQyxFQUFFLENBQUMsQ0FBQyxVQUFVLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEQsTUFBTSxDQUFDLEdBQUcsQ0FBQztRQUNmLENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxVQUFVLEtBQUssQ0FBQyxJQUFJLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsUUFBUSxDQUFDO1FBQ2pDLENBQUM7UUFFRCxNQUFNLENBQUMsUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFFRCxtQkFBbUIsRUFBRSxVQUFVLElB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