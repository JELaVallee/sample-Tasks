var platformModule = require("platform");
var frameModule = require("ui/frame");
var enumsModule = require("ui/enums");
var navigationModule = require("./navigation");
var attached = false;
function attachToActionBarEvents() {
    if (!attached) {
        if (platformModule.device.os == platformModule.platformNames.android) {
            var topmost = frameModule.topmost();
            topmost.android.on(frameModule.Frame.androidOptionSelectedEvent, androidOptionSelected);
        }
        attached = true;
    }
}
exports.attachToActionBarEvents = attachToActionBarEvents;
function showBackNavigation() {
    if (platformModule.device.os == platformModule.platformNames.android) {
        attachToActionBarEvents();
        var topmost = frameModule.topmost();
        topmost.android.actionBar.setDisplayHomeAsUpEnabled(true);
    }
}
exports.showBackNavigation = showBackNavigation;
function hideBackNavigation() {
    if (platformModule.device.os == platformModule.platformNames.android) {
        var topmost = frameModule.topmost();
        topmost.android.actionBar.setDisplayHomeAsUpEnabled(false);
    }
}
exports.hideBackNavigation = hideBackNavigation;
function showApplicationBar() {
    if (platformModule.device.os == platformModule.platformNames.ios) {
        var topmost = frameModule.topmost();
        topmost.ios.navBarVisibility = enumsModule.NavigationBarVisibility.always;
    }
}
exports.showApplicationBar = showApplicationBar;
function androidOptionSelected(args) {
    if (args.item.getItemId() === global.android.R.id.home) {
        navigationModule.goBack();
        args.handled = true;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLWJhci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImFjdGlvbi1iYXIudHMiXSwibmFtZXMiOlsiYXR0YWNoVG9BY3Rpb25CYXJFdmVudHMiLCJzaG93QmFja05hdmlnYXRpb24iLCJoaWRlQmFja05hdmlnYXRpb24iLCJzaG93QXBwbGljYXRpb25CYXIiLCJhbmRyb2lkT3B0aW9uU2VsZWN0ZWQiXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sY0FBYyxXQUFXLFVBQVUsQ0FBQyxDQUFDO0FBRTVDLElBQU8sV0FBVyxXQUFXLFVBQVUsQ0FBQyxDQUFDO0FBQ3pDLElBQU8sV0FBVyxXQUFXLFVBQVUsQ0FBQyxDQUFDO0FBQ3pDLElBQU8sZ0JBQWdCLFdBQVcsY0FBYyxDQUFDLENBQUM7QUFFbEQsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDO0FBQ3JCO0lBQ0lBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO1FBQ1pBLEVBQUVBLENBQUNBLENBQUNBLGNBQWNBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLElBQUlBLGNBQWNBLENBQUNBLGFBQWFBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBO1lBQ25FQSxJQUFJQSxPQUFPQSxHQUFHQSxXQUFXQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtZQUNwQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsMEJBQTBCQSxFQUFFQSxxQkFBcUJBLENBQUNBLENBQUNBO1FBQzVGQSxDQUFDQTtRQUVEQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQTtJQUNwQkEsQ0FBQ0E7QUFDTEEsQ0FBQ0E7QUFUZSwrQkFBdUIsMEJBU3RDLENBQUE7QUFFRDtJQUNJQyxFQUFFQSxDQUFDQSxDQUFDQSxjQUFjQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxJQUFJQSxjQUFjQSxDQUFDQSxhQUFhQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNuRUEsdUJBQXVCQSxFQUFFQSxDQUFDQTtRQUMxQkEsSUFBSUEsT0FBT0EsR0FBR0EsV0FBV0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDcENBLE9BQU9BLENBQUNBLE9BQU9BLENBQUNBLFNBQVNBLENBQUNBLHlCQUF5QkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7SUFDOURBLENBQUNBO0FBQ0xBLENBQUNBO0FBTmUsMEJBQWtCLHFCQU1qQyxDQUFBO0FBRUQ7SUFDSUMsRUFBRUEsQ0FBQ0EsQ0FBQ0EsY0FBY0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsRUFBRUEsSUFBSUEsY0FBY0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDbkVBLElBQUlBLE9BQU9BLEdBQUdBLFdBQVdBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQ3BDQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxTQUFTQSxDQUFDQSx5QkFBeUJBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO0lBQy9EQSxDQUFDQTtBQUNMQSxDQUFDQTtBQUxlLDBCQUFrQixxQkFLakMsQ0FBQTtBQUVEO0lBQ0lDLEVBQUVBLENBQUNBLENBQUNBLGNBQWNBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLElBQUlBLGNBQWNBLENBQUNBLGFBQWFBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1FBQy9EQSxJQUFJQSxPQUFPQSxHQUFHQSxXQUFXQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUNwQ0EsT0FBT0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsZ0JBQWdCQSxHQUFHQSxXQUFXQSxDQUFDQSx1QkFBdUJBLENBQUNBLE1BQU1BLENBQUNBO0lBQzlFQSxDQUFDQTtBQUNMQSxDQUFDQTtBQUxlLDBCQUFrQixxQkFLakMsQ0FBQTtBQUdELCtCQUErQixJQUF3QztJQUNuRUMsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsRUFBRUEsS0FBV0EsTUFBTUEsQ0FBQ0EsT0FBUUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDNURBLGdCQUFnQkEsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0E7UUFDMUJBLElBQUlBLENBQUNBLE9BQU9BLEdBQUdBLElBQUlBLENBQUNBO0lBQ3hCQSxDQUFDQTtBQUNMQSxDQUFDQSJ9